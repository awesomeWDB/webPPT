webpackJsonp([1],{JNAy:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("kV13"),a=n("lC5x"),r=n.n(a),i=n("J0Oq"),s=n.n(i),u=n("4YfN"),c=n.n(u),l=n("kciL"),f={name:"App",methods:c()({},Object(l.b)(["Init"])),created:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Init();case 2:console.log(t.$store.state);case 3:case"end":return e.stop()}},e,t)}))()}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var p=n("C7Lr")(f,m,!1,function(t){n("JNAy")},null,null).exports,h=n("bQIR"),d=n.n(h),g=(n("gFLX"),n("wUgx")),v={methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:t.handleOpen,close:t.handleClose}},[n("el-menu-item",{attrs:{index:"1"}},[n("i",{staticClass:"el-icon-location"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("目录")])]),t._v(" "),n("el-menu-item",{attrs:{index:"2"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("编辑")])]),t._v(" "),n("el-menu-item",{attrs:{index:"3"}},[n("i",{staticClass:"el-icon-document"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("绑定")])])],1)},staticRenderFns:[]};var T=n("C7Lr")(v,_,!1,function(t){n("YP5W")},null,null).exports,E=n("rVsN"),O=n.n(E),b=n("I29D"),N=n.n(b),L=n("sqb0"),U=n.n(L),w=function(t,e,n){return n?U.a.set(t,e,{expires:n}):U.a.set(t,e)},k=function(t){return U.a.remove(t)},C=function(t){return K({url:"/user?access_token="+t})},S=function(){var t=x.state.configuration.githubUsername;return K({url:"/users/"+t})},A={state:{token:function(t){return U.a.get(t)}("TOKEN_KEY")},mutations:{SET_TOKEN:function(t,e){t.token=e,w("TOKEN_KEY",e,30)},REMOVE_TOKEN:function(t){t.token=null,k("TOKEN_KEY")}},actions:{Authentication:function(t,e){var n=t.commit;C(e).then(function(t){var a=t.data;x.state.configuration.githubUsername==a.login?(n("SET_TOKEN",e),o.default.prototype.$notify({title:"成功",message:"Token绑定成功",type:"success"})):o.default.prototype.$message({message:"Token用户不一致",type:"error"})}).catch(function(){})},Cancellation:function(t){(0,t.commit)("REMOVE_TOKEN"),o.default.prototype.$message({message:"Token取消绑定",type:"info"})}}},R={state:{avatarUrl:null,name:null,location:null,blog:null,followers:0,following:0},mutations:{SET_AVATAR_URL:function(t,e){t.avatarUrl=e},SET_NAME:function(t,e){t.name=e},SET_LOCATION:function(t,e){t.location=e},SET_BLOG:function(t,e){t.blog=e},SET_FOLLOWERS:function(t,e){t.followers=e},SET_FOLLOWING:function(t,e){t.following=e}},actions:{GetInfo:function(t){var e=t.commit;S().then(function(t){var n=t.data;e("SET_AVATAR_URL","/static/img/avatar.png"),e("SET_NAME",n.name),e("SET_LOCATION",n.location),e("SET_BLOG",n.blog),e("SET_FOLLOWERS",n.followers),e("SET_FOLLOWING",n.following)})}}},y={state:{githubUsername:"",reposName:"",htmlTitle:""},mutations:{SET_CONFIGURATION:function(t,e){t.githubUsername=e.githubUsername||"shuichi123",t.htmlTitle=e.htmlTitle||t.githubUsername+"的博客",t.reposName=e.reposName||"webPPT"}},actions:{LocalReload:function(t,e){(0,t.commit)("SET_CONFIGURATION",e)},Init:function(t){var e=t.commit;return new O.a(function(t,n){N.a.get("./static/configuration.json").then(function(n){var o=n.data;e("SET_CONFIGURATION",o),t(n.data)}).catch(function(t){n(t)})})}}},I={token:function(t){return t.token.token},githubUsername:function(t){return t.configuration.githubUsername},htmlTitle:function(t){return t.configuration.htmlTitle},reposName:function(t){return t.configuration.reposName},avatarUrl:function(t){return t.user.avatarUrl},name:function(t){return t.user.name},location:function(t){return t.user.location},blog:function(t){return t.user.blog},followersTotal:function(t){return t.user.followers},followingTotal:function(t){return t.user.following}};o.default.use(l.a);var x=new l.a.Store({modules:{token:A,user:R,configuration:y},getters:I}),F=N.a.create({baseURL:"https://api.github.com",timeout:15e3});F.interceptors.request.use(),F.interceptors.response.use(function(t){t.data;return t},function(t){var e=void 0;switch(t.response.status){case 401:e="Token错误";break;default:e=t.response.data.message}return o.default.prototype.$message({message:e,type:"error"}),O.a.reject("error")});var K=F,$=function(t){var e=x.state.configuration.githubUsername,n=x.state.configuration.reposName;return K({url:"/repos/"+e+"/"+n+"/contents/"+t})},G={data:function(){return{files:[],ppts:[]}},computed:c()({},Object(l.c)(["githubUsername","reposName"]),{base_url:function(){return"https://"+this.githubUsername+".github.io/"+this.reposName}}),watch:{githubUsername:function(t){var e=this;$("ppt").then(function(t){console.log(t),e.files=t.data,e.files.forEach(function(t){$(t.path).then(function(t){console.log(t),t.data.forEach(function(t){t.name.includes(".html")&&"template.html"!=t.name&&e.ppts.push(t)}),console.log(e.ppts)})})})}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.ppts,function(e){return n("div",{key:e.name,staticClass:"link"},[n("el-link",{attrs:{href:t.base_url+"/"+e.path,target:"_blank"}},[t._v(t._s(e.name.split(".html")[0]))])],1)}),0)},staticRenderFns:[]};var M={components:{myNav:T,myMain:n("C7Lr")(G,P,!1,function(t){n("fBu7")},"data-v-7598b5b9",null).exports},methods:{}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-nav",{staticClass:"nav"}),this._v(" "),e("my-main",{staticClass:"main"})],1)},staticRenderFns:[]};var W=n("C7Lr")(M,V,!1,function(t){n("P+1f")},null,null).exports;o.default.use(g.a);var Y=new g.a({routes:[{path:"/",name:"home",redirect:"index",component:W},{path:"/index",name:"index",component:W},{path:"/test",name:"test",component:W}]});o.default.use(d.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:Y,store:x,components:{App:p},template:"<App/>"})},"P+1f":function(t,e){},YP5W:function(t,e){},fBu7:function(t,e){},gFLX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.33102fa71ea2134ae3f7.js.map